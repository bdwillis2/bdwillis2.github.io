<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a>Milestone&#160;3<br/>
Berkeley&#160;D.&#160;Willis<br/>
2020-09-24<br/>
First&#160;the&#160;data&#160;needs&#160;to&#160;be&#160;loaded,&#160;and&#160;some&#160;basic&#160;sampling&#160;and&#160;summarization&#160;of&#160;the&#160;data&#160;would&#160;be&#160;helpful.<br/>It&#160;can&#160;help&#160;identify&#160;what&#160;could&#160;be&#160;cleaned,&#160;as&#160;well&#160;as&#160;give&#160;an&#160;idea&#160;of&#160;what&#160;data&#160;is&#160;available,&#160;record&#160;counts,<br/>and&#160;even&#160;possibly&#160;give&#160;an&#160;idea&#160;of&#160;what&#160;relationship&#160;may&#160;exist.&#160;Of&#160;course&#160;after&#160;the&#160;data&#160;cleaning&#160;operations<br/>this&#160;will&#160;become&#160;more&#160;obvious.<br/><i>#&#160;Now&#160;load&#160;the&#160;data&#160;that&#160;we&#160;want<br/></i>hf_records_dt&#160;=&#160;<b>fread</b>(&#34;data/heart_failure_clinical_records_dataset.csv&#34;)<br/>
hf_records_dt&#160;<b>%&gt;%&#160;</b>head<br/>
##<br/>
age&#160;anaemia&#160;creatinine_phosphokinase&#160;diabetes&#160;ejection_fraction<br/>
##&#160;1:<br/>
75<br/>
0<br/>
582<br/>
0<br/>
20<br/>
##&#160;2:<br/>
55<br/>
0<br/>
7861<br/>
0<br/>
38<br/>
##&#160;3:<br/>
65<br/>
0<br/>
146<br/>
0<br/>
20<br/>
##&#160;4:<br/>
50<br/>
1<br/>
111<br/>
0<br/>
20<br/>
##&#160;5:<br/>
65<br/>
1<br/>
160<br/>
1<br/>
20<br/>
##&#160;6:<br/>
90<br/>
1<br/>
47<br/>
0<br/>
40<br/>
##<br/>
high_blood_pressure&#160;platelets&#160;serum_creatinine&#160;serum_sodium&#160;sex&#160;smoking&#160;time<br/>
##&#160;1:<br/>
1<br/>
265000<br/>
1.9<br/>
130<br/>
1<br/>
0<br/>
4<br/>
##&#160;2:<br/>
0<br/>
263358<br/>
1.1<br/>
136<br/>
1<br/>
0<br/>
6<br/>
##&#160;3:<br/>
0<br/>
162000<br/>
1.3<br/>
129<br/>
1<br/>
1<br/>
7<br/>
##&#160;4:<br/>
0<br/>
210000<br/>
1.9<br/>
137<br/>
1<br/>
0<br/>
7<br/>
##&#160;5:<br/>
0<br/>
327000<br/>
2.7<br/>
116<br/>
0<br/>
0<br/>
8<br/>
##&#160;6:<br/>
1<br/>
204000<br/>
2.1<br/>
132<br/>
1<br/>
1<br/>
8<br/>
##<br/>
DEATH_EVENT<br/>
##&#160;1:<br/>
1<br/>
##&#160;2:<br/>
1<br/>
##&#160;3:<br/>
1<br/>
##&#160;4:<br/>
1<br/>
##&#160;5:<br/>
1<br/>
##&#160;6:<br/>
1<br/>
<i>#&#160;Let's&#160;start&#160;to&#160;see&#160;some&#160;of&#160;the&#160;possible&#160;data&#160;issues&#160;such&#160;as&#160;large</i><br/>
<i>#&#160;numbers&#160;of&#160;NA's<br/></i>hf_records_dt&#160;<b>%&gt;%&#160;</b>summary<br/>
##<br/>
age<br/>
anaemia<br/>
creatinine_phosphokinase<br/>
diabetes<br/>
##<br/>
Min.<br/>
:40.00<br/>
Min.<br/>
:0.0000<br/>
Min.<br/>
:<br/>
23.0<br/>
Min.<br/>
:0.0000<br/>
##<br/>
1st&#160;Qu.:51.00<br/>
1st&#160;Qu.:0.0000<br/>
1st&#160;Qu.:&#160;116.5<br/>
1st&#160;Qu.:0.0000<br/>
##<br/>
Median&#160;:60.00<br/>
Median&#160;:0.0000<br/>
Median&#160;:&#160;250.0<br/>
Median&#160;:0.0000<br/>
##<br/>
Mean<br/>
:60.83<br/>
Mean<br/>
:0.4314<br/>
Mean<br/>
:&#160;581.8<br/>
Mean<br/>
:0.4181<br/>
##<br/>
3rd&#160;Qu.:70.00<br/>
3rd&#160;Qu.:1.0000<br/>
3rd&#160;Qu.:&#160;582.0<br/>
3rd&#160;Qu.:1.0000<br/>
##<br/>
Max.<br/>
:95.00<br/>
Max.<br/>
:1.0000<br/>
Max.<br/>
:7861.0<br/>
Max.<br/>
:1.0000<br/>
##<br/>
ejection_fraction&#160;high_blood_pressure<br/>
platelets<br/>
serum_creatinine<br/>
1<br/>
<hr/>
<a name=2></a>##<br/>
Min.<br/>
:14.00<br/>
Min.<br/>
:0.0000<br/>
Min.<br/>
:&#160;25100<br/>
Min.<br/>
:0.500<br/>
##<br/>
1st&#160;Qu.:30.00<br/>
1st&#160;Qu.:0.0000<br/>
1st&#160;Qu.:212500<br/>
1st&#160;Qu.:0.900<br/>
##<br/>
Median&#160;:38.00<br/>
Median&#160;:0.0000<br/>
Median&#160;:262000<br/>
Median&#160;:1.100<br/>
##<br/>
Mean<br/>
:38.08<br/>
Mean<br/>
:0.3512<br/>
Mean<br/>
:263358<br/>
Mean<br/>
:1.394<br/>
##<br/>
3rd&#160;Qu.:45.00<br/>
3rd&#160;Qu.:1.0000<br/>
3rd&#160;Qu.:303500<br/>
3rd&#160;Qu.:1.400<br/>
##<br/>
Max.<br/>
:80.00<br/>
Max.<br/>
:1.0000<br/>
Max.<br/>
:850000<br/>
Max.<br/>
:9.400<br/>
##<br/>
serum_sodium<br/>
sex<br/>
smoking<br/>
time<br/>
##<br/>
Min.<br/>
:113.0<br/>
Min.<br/>
:0.0000<br/>
Min.<br/>
:0.0000<br/>
Min.<br/>
:<br/>
4.0<br/>
##<br/>
1st&#160;Qu.:134.0<br/>
1st&#160;Qu.:0.0000<br/>
1st&#160;Qu.:0.0000<br/>
1st&#160;Qu.:&#160;73.0<br/>
##<br/>
Median&#160;:137.0<br/>
Median&#160;:1.0000<br/>
Median&#160;:0.0000<br/>
Median&#160;:115.0<br/>
##<br/>
Mean<br/>
:136.6<br/>
Mean<br/>
:0.6488<br/>
Mean<br/>
:0.3211<br/>
Mean<br/>
:130.3<br/>
##<br/>
3rd&#160;Qu.:140.0<br/>
3rd&#160;Qu.:1.0000<br/>
3rd&#160;Qu.:1.0000<br/>
3rd&#160;Qu.:203.0<br/>
##<br/>
Max.<br/>
:148.0<br/>
Max.<br/>
:1.0000<br/>
Max.<br/>
:1.0000<br/>
Max.<br/>
:285.0<br/>
##<br/>
DEATH_EVENT<br/>
##<br/>
Min.<br/>
:0.0000<br/>
##<br/>
1st&#160;Qu.:0.0000<br/>
##<br/>
Median&#160;:0.0000<br/>
##<br/>
Mean<br/>
:0.3211<br/>
##<br/>
3rd&#160;Qu.:1.0000<br/>
##<br/>
Max.<br/>
:1.0000<br/>
What&#160;can&#160;be&#160;observed&#160;here&#160;is&#160;that&#160;the&#160;data&#160;is&#160;pretty&#160;clean&#160;with&#160;no&#160;major&#160;issues&#160;like&#160;missing&#160;data.&#160;However,<br/>
some&#160;of&#160;the&#160;data&#160;types&#160;of&#160;the&#160;values&#160;though&#160;not&#160;ideal&#160;for&#160;giving&#160;a&#160;good&#160;view&#160;of&#160;the&#160;data.&#160;Some&#160;of&#160;these&#160;could<br/>be&#160;converted&#160;to&#160;integers&#160;and&#160;Boolean&#160;in&#160;order&#160;to&#160;make&#160;the&#160;data&#160;more&#160;clear&#160;on&#160;the&#160;summary&#160;and&#160;sampling,<br/>like&#160;a&#160;boolean&#160;as&#160;an&#160;indicator&#160;for&#160;diabetes&#160;isn’t&#160;wrong&#160;to&#160;be&#160;0/1&#160;but&#160;will&#160;look&#160;simpler&#160;in&#160;the&#160;summary&#160;view&#160;if<br/>converted&#160;to&#160;a&#160;boolean.&#160;As&#160;well&#160;a&#160;few&#160;numerics&#160;like&#160;age,&#160;just&#160;because&#160;how&#160;R&#160;read&#160;the&#160;file,&#160;would&#160;look&#160;simpler<br/>and&#160;vizualize&#160;better&#160;as&#160;a&#160;non-continuous&#160;value.<br/>
So&#160;the&#160;next&#160;steps&#160;will&#160;be&#160;to&#160;make&#160;what&#160;will&#160;be&#160;helpful&#160;conversions.<br/><i>#&#160;First&#160;convert&#160;those&#160;that&#160;are&#160;best&#160;to&#160;be&#160;used&#160;as&#160;booleans<br/></i>hf_records_dt<b>$</b>anaemia&#160;=&#160;<b>as.logical</b>(hf_records_dt<b>$</b>anaemia)<br/>hf_records_dt<b>$</b>diabetes&#160;=&#160;<b>as.logical</b>(hf_records_dt<b>$</b>diabetes)<br/>hf_records_dt<b>$</b>high_blood_pressure&#160;=&#160;<b>as.logical</b>(hf_records_dt<b>$</b>high_blood_pressure)<br/>hf_records_dt<b>$</b>smoking&#160;=&#160;<b>as.logical</b>(hf_records_dt<b>$</b>smoking)<br/>hf_records_dt<b>$</b>DEATH_EVENT&#160;=&#160;<b>as.logical</b>(hf_records_dt<b>$</b>DEATH_EVENT)<br/>
<i>#&#160;Sex&#160;currently&#160;represented&#160;as&#160;a&#160;number,&#160;won't&#160;be&#160;consider&#160;a&#160;classification&#160;so</i><br/>
<i>#&#160;we'll&#160;change&#160;it&#160;to&#160;a&#160;factor<br/></i>hf_records_dt<b>$</b>sex&#160;=&#160;<b>as.factor</b>(<b>as.character</b>(hf_records_dt<b>$</b>sex))<br/>
<i>#&#160;Finally&#160;lets&#160;change&#160;numeric&#160;to&#160;integer&#160;for&#160;age<br/></i>hf_records_dt<b>$</b>age&#160;=&#160;<b>as.integer</b>(hf_records_dt<b>$</b>age)<br/>
<i>#&#160;Quick&#160;check&#160;of&#160;the&#160;data<br/></i>hf_records_dt&#160;<b>%&gt;%&#160;</b>summary<br/>
##<br/>
age<br/>
anaemia<br/>
creatinine_phosphokinase<br/>
diabetes<br/>
##<br/>
Min.<br/>
:40.00<br/>
Mode&#160;:logical<br/>
Min.<br/>
:<br/>
23.0<br/>
Mode&#160;:logical<br/>
##<br/>
1st&#160;Qu.:51.00<br/>
FALSE:170<br/>
1st&#160;Qu.:&#160;116.5<br/>
FALSE:174<br/>
##<br/>
Median&#160;:60.00<br/>
TRUE&#160;:129<br/>
Median&#160;:&#160;250.0<br/>
TRUE&#160;:125<br/>
##<br/>
Mean<br/>
:60.83<br/>
Mean<br/>
:&#160;581.8<br/>
##<br/>
3rd&#160;Qu.:70.00<br/>
3rd&#160;Qu.:&#160;582.0<br/>
##<br/>
Max.<br/>
:95.00<br/>
Max.<br/>
:7861.0<br/>
##<br/>
ejection_fraction&#160;high_blood_pressure<br/>
platelets<br/>
serum_creatinine<br/>
##<br/>
Min.<br/>
:14.00<br/>
Mode&#160;:logical<br/>
Min.<br/>
:&#160;25100<br/>
Min.<br/>
:0.500<br/>
2<br/>
<hr/>
<a name=3></a>##<br/>
1st&#160;Qu.:30.00<br/>
FALSE:194<br/>
1st&#160;Qu.:212500<br/>
1st&#160;Qu.:0.900<br/>
##<br/>
Median&#160;:38.00<br/>
TRUE&#160;:105<br/>
Median&#160;:262000<br/>
Median&#160;:1.100<br/>
##<br/>
Mean<br/>
:38.08<br/>
Mean<br/>
:263358<br/>
Mean<br/>
:1.394<br/>
##<br/>
3rd&#160;Qu.:45.00<br/>
3rd&#160;Qu.:303500<br/>
3rd&#160;Qu.:1.400<br/>
##<br/>
Max.<br/>
:80.00<br/>
Max.<br/>
:850000<br/>
Max.<br/>
:9.400<br/>
##<br/>
serum_sodium<br/>
sex<br/>
smoking<br/>
time<br/>
DEATH_EVENT<br/>
##<br/>
Min.<br/>
:113.0<br/>
0:105<br/>
Mode&#160;:logical<br/>
Min.<br/>
:<br/>
4.0<br/>
Mode&#160;:logical<br/>
##<br/>
1st&#160;Qu.:134.0<br/>
1:194<br/>
FALSE:203<br/>
1st&#160;Qu.:&#160;73.0<br/>
FALSE:203<br/>
##<br/>
Median&#160;:137.0<br/>
TRUE&#160;:96<br/>
Median&#160;:115.0<br/>
TRUE&#160;:96<br/>
##<br/>
Mean<br/>
:136.6<br/>
Mean<br/>
:130.3<br/>
##<br/>
3rd&#160;Qu.:140.0<br/>
3rd&#160;Qu.:203.0<br/>
##<br/>
Max.<br/>
:148.0<br/>
Max.<br/>
:285.0<br/>
Though&#160;this&#160;isn’t&#160;a&#160;lot&#160;of&#160;complex&#160;cleaning&#160;operations,&#160;the&#160;difference&#160;can&#160;be&#160;see&#160;in&#160;the&#160;summarization&#160;of&#160;the<br/>
data.&#160;Now&#160;it&#160;is&#160;possible&#160;to&#160;get&#160;a&#160;preview&#160;and&#160;see&#160;how&#160;certain&#160;variables&#160;may&#160;have&#160;a&#160;relationship&#160;with&#160;the<br/>death&#160;indicator.&#160;As&#160;well&#160;those&#160;relationships&#160;can&#160;be&#160;explored&#160;further&#160;in&#160;a&#160;series&#160;of&#160;vizualizations.<br/><i>#&#160;Take&#160;a&#160;look&#160;at&#160;the&#160;possibility&#160;of&#160;a&#160;relationship&#160;between&#160;death&#160;an&#160;age<br/></i>hf_records_agg&#160;=&#160;<b>setNames</b>(<br/>
<b>aggregate</b>(anaemia&#160;<b>~&#160;</b>age&#160;<b>+&#160;</b>DEATH_EVENT,&#160;hf_records_dt,&#160;length),<br/><b>c</b>(&#34;age&#34;,&#160;&#34;DEATH_EVENT&#34;,&#160;&#34;count&#34;))<br/>
<b>ggplot</b>(hf_records_agg,&#160;<b>aes</b>(x=age,&#160;y=count,&#160;fill=DEATH_EVENT))&#160;<b>+</b><br/>
<b>geom_bar</b>(position=&#34;stack&#34;,&#160;stat=&#34;identity&#34;)<br/>
30<br/>
20<br/>
DEATH_EVENT<br/>
FALSE<br/>
count<br/>
TRUE<br/>
10<br/>
0<br/>
40<br/>
60<br/>
80<br/>
age<br/>
The&#160;obvious&#160;thing&#160;to&#160;point&#160;out&#160;is&#160;that&#160;of&#160;course&#160;as&#160;people&#160;age&#160;they&#160;are&#160;more&#160;likely&#160;to&#160;die,&#160;but&#160;the&#160;question&#160;here<br/>
is&#160;whether&#160;or&#160;not&#160;it&#160;would&#160;be&#160;to&#160;heart&#160;failure&#160;despite&#160;these&#160;treatements.&#160;With&#160;the&#160;results&#160;of&#160;the&#160;visualization,<br/>it&#160;can&#160;be&#160;seen&#160;that&#160;there&#160;is&#160;likely&#160;a&#160;relationship&#160;between&#160;age&#160;and&#160;the&#160;count&#160;of&#160;deaths.&#160;Something&#160;of&#160;note&#160;here<br/>is&#160;that&#160;all&#160;of&#160;the&#160;ages&#160;in&#160;the&#160;records&#160;don’t&#160;commonly&#160;have&#160;deaths&#160;until&#160;close&#160;to&#160;the&#160;age&#160;of&#160;60.<br/>
3<br/>
<hr/>
<a name=4></a>For&#160;other&#160;vizualizations&#160;it&#160;might&#160;be&#160;useful&#160;to&#160;utilize&#160;scatter&#160;plots&#160;with&#160;age&#160;and&#160;whatever&#160;other&#160;variables&#160;might<br/>be&#160;relevant.<br/><i>#&#160;Going&#160;to&#160;scroll&#160;through&#160;a&#160;few&#160;of&#160;these&#160;numeric&#160;values&#160;and&#160;see&#160;if&#160;there&#160;are</i><br/>
<i>#&#160;any&#160;good&#160;clusters<br/></i><b>ggplot</b>(hf_records_dt,&#160;<b>aes</b>(x=age,y=creatinine_phosphokinase,&#160;color=DEATH_EVENT))<b>+</b><br/>
<b>geom_point</b>()<br/>
8000<br/>
6000<br/>
DEATH_EVENT<br/>
4000<br/>
FALSE<br/>
TRUE<br/>
creatinine_phosphokinase&#160;2000<br/>
0<br/>
40<br/>
60<br/>
80<br/>
age<br/>
<b>ggplot</b>(hf_records_dt,&#160;<b>aes</b>(x=age,&#160;y=ejection_fraction,&#160;color=DEATH_EVENT))&#160;<b>+</b><br/>
<b>geom_point</b>()<br/>
4<br/>
<hr/>
<a name=5></a>80<br/>
60<br/>
DEATH_EVENT<br/>
action<br/>
FALSE<br/>
TRUE<br/>
40<br/>
ejection_fr<br/>
20<br/>
40<br/>
60<br/>
80<br/>
age<br/>
<b>ggplot</b>(hf_records_dt,&#160;<b>aes</b>(x=age,&#160;y=platelets,&#160;color=DEATH_EVENT))&#160;<b>+</b><br/>
<b>geom_point</b>()<br/>
5<br/>
<hr/>
<a name=6></a>8e+05<br/>
6e+05<br/>
DEATH_EVENT<br/>
FALSE<br/>
4e+05<br/>
platelets<br/>
TRUE<br/>
2e+05<br/>
0e+00<br/>
40<br/>
60<br/>
80<br/>
age<br/>
<b>ggplot</b>(hf_records_dt,&#160;<b>aes</b>(x=age,&#160;y=serum_creatinine,&#160;color=DEATH_EVENT))&#160;<b>+</b><br/>
<b>geom_point</b>()<br/>
6<br/>
<hr/>
<a name=7></a>7.5<br/>
DEATH_EVENT<br/>
5.0<br/>
FALSE<br/>
TRUE<br/>
um_creatinine<br/>
ser<br/>
2.5<br/>
40<br/>
60<br/>
80<br/>
age<br/>
<b>ggplot</b>(hf_records_dt,&#160;<b>aes</b>(x=age,&#160;y=serum_sodium,&#160;color=DEATH_EVENT))&#160;<b>+</b><br/>
<b>geom_point</b>()<br/>
7<br/>
<hr/>
<a name=8></a>140<br/>
DEATH_EVENT<br/>
FALSE<br/>
130<br/>
um_sodium<br/>
TRUE<br/>
ser<br/>
120<br/>
40<br/>
60<br/>
80<br/>
age<br/>
This&#160;same&#160;age&#160;relation&#160;does&#160;seem&#160;to&#160;hold&#160;and&#160;there&#160;are&#160;some&#160;small&#160;indications&#160;for&#160;clustering&#160;with&#160;all&#160;the<br/>variables&#160;currently&#160;explored.&#160;However,&#160;it&#160;would&#160;be&#160;nice&#160;to&#160;make&#160;this&#160;clearer&#160;if&#160;it&#160;were&#160;possible&#160;to&#160;get&#160;more<br/>
records&#160;allowing&#160;for&#160;denser&#160;and&#160;clearer&#160;clusters.<br/>
One&#160;of&#160;the&#160;variables&#160;that&#160;may&#160;not&#160;be&#160;as&#160;helpful&#160;is&#160;‘time’&#160;which&#160;according&#160;to&#160;the&#160;data&#160;source&#160;is&#160;the&#160;number&#160;of<br/>days&#160;before&#160;follow-up.&#160;All&#160;the&#160;others&#160;are&#160;possibly&#160;helpful&#160;for&#160;building&#160;model.&#160;During&#160;the&#160;modeling&#160;process<br/>multiple&#160;combinations,&#160;with&#160;the&#160;exception&#160;of&#160;the&#160;‘time’&#160;variable,&#160;will&#160;be&#160;used&#160;and&#160;tested.&#160;Main&#160;concern&#160;is<br/>that&#160;there&#160;aren’t&#160;a&#160;lot&#160;of&#160;records,&#160;with&#160;only&#160;299&#160;available.&#160;The&#160;data&#160;will&#160;still&#160;be&#160;split&#160;out&#160;randomly&#160;for&#160;test<br/>data&#160;and&#160;validation&#160;but&#160;these&#160;will&#160;be&#160;fairly&#160;small,&#160;and&#160;there&#160;is&#160;the&#160;concern&#160;of&#160;overfitting.&#160;Having&#160;separate<br/>validation&#160;records&#160;should&#160;help&#160;diagnose&#160;if&#160;this&#160;does&#160;become&#160;an&#160;issue&#160;though.<br/>
Next&#160;milestone&#160;will&#160;include&#160;further&#160;exploration&#160;as&#160;models&#160;are&#160;created&#160;in&#160;oroder&#160;to&#160;find&#160;the&#160;most&#160;effective<br/>method&#160;of&#160;prediction.<br/>
8<br/>
<hr/>
</body>
</html>
